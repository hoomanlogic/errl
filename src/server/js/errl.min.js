var errl=errl||{};(function(n,t){"use strict";var i="http",r="localhost:42026",o=function(){var i=navigator.userAgent,t,n=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(i)||[],"IE "+(t[1]||"")):n[1]==="Chrome"&&(t=i.match(/\bOPR\/(\d+)/),t!=null)?"Opera "+t[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=i.match(/version\/(\d+)/i))!=null&&n.splice(1,1,t[1]),n.join(" "))}(),u=function(n){return/\((.*?):(\d+):(\d+)\)/g.exec(n)},f=function(){var t={},r,i;for(n.config.getState&&(t=n.config.getState()),t.browser=n.browser,t.platform=navigator.platform,t.cookieEnabled=navigator.cookieEnabled,t.language=navigator.language,r=Array.prototype.slice.call(navigator.plugins),t.plugins=[],i=0;i<r.length;i++)t.plugins.push(r[i].name);return t},e=function(){var t="$anonymous";return n.config.getUser&&(t=n.config.getUser()),t};n.getErrorDetailUrl=function(n){return i+"://"+r+"/errordetail?developer="+encodeURIComponent(errl.config.developer)+"&product="+encodeURIComponent(errl.config.product)+"&user="+encodeURIComponent(errl.config.getUser())+"&error="+encodeURIComponent(n)};n.log=function(){var h,s,c,l,a,v;if(!n.config)throw new Error("ErrL has not been configured");if(!arguments[0]||arguments[0].length<5)throw new Error("ErrL log function was passed unexpected number of arguments");var o={message:arguments[0][0],url:[0][1],lineNumber:arguments[0][2],columnNumber:arguments[0][3],error:arguments[0][4]},y=f(),p=e();o.url&&o.url.trim()!==""||(o.url=u(o.error.stack)[1]);h=o.error.name;s=o.error.message;c=o.url.split("/");l=c.slice(3).join("/");a=o.lineNumber;v=o.error.stack;t.ajax({context:this,url:i+"://"+r+"/api/logerror",crossDomain:!0,dataType:"json",type:"POST",contentType:"application/json",data:JSON.stringify({key:n.config.key,productName:n.config.product,environment:n.config.environment,version:n.config.version,errorType:h,errorDescription:s,objectName:l,subName:a,details:JSON.stringify(o),stackTrace:v,state:JSON.stringify(y),userId:p})}).done(function(t){var i={errorId:t,errorMessage:s};n.config.onLogged(i);errl.latestError=i}).fail(function(n,t){console.error(n.responseText||t,"ErrL")})}})(errl,$);window.onerror=function(){errl.log(arguments)};
//# sourceMappingURL=errl.min.js.map
